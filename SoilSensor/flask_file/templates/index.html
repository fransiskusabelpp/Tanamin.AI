<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Realtime Data</title>
</head>
<body>
    <h1>Realtime Data</h1>
    <div>
        <h2>N</h2>
        <div id="N-container"></div>
    </div>
    <div>
        <h2>P</h2>
        <div id="P-container"></div>
    </div>
    <div>
        <h2>K</h2>
        <div id="K-container"></div>
    </div>
    <div>
        <h2>Humidity</h2>
        <div id="hum-container"></div>
    </div>
    <div>
        <h2>pH</h2>
        <div id="ph-container"></div>
    </div>
    <div>
        <h2>Temperature</h2>
        <div id="temp-container"></div>
    </div>
    <div>
        <h2>Prediction</h2>
        <div id="predict-container"></div>
    </div>

    <script>
        function fetchData() {
            fetch('/data')
            .then(response => response.json())
            .then(data => {
                document.getElementById('N-container').innerHTML = `N: ${data[0]}`;

                document.getElementById('P-container').innerHTML = `P: ${data[1]}`;

                document.getElementById('K-container').innerHTML = `K: ${data[2]}`;

                document.getElementById('hum-container').innerHTML = `Humidity: ${data[3]}`;

                document.getElementById('ph-container').innerHTML = `pH: ${data[4]}`;

                document.getElementById('temp-container').innerHTML = `Temperature: ${data[5]}`;;

                document.getElementById('predict-container').innerHTML = `Predict: ${data[6]}`;;

                // Set timeout to fetch data again after 1 second
                setTimeout(fetchData, 1000);
            })
            .catch(error => console.error('Error fetching data:', error));
        }

        // Fetch data initially when page loads
        fetchData();
    </script>
</body>
</html>
